<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>rb-tree-dnd</title>
<meta name="generator" content="DocBook XSL Stylesheets V1.75.2">
<link rel="home" href="index.html" title="Rhythmbox Development Reference Manual">
<link rel="up" href="ch02.html" title="Lib">
<link rel="prev" href="RBStringValueMap.html" title="RBStringValueMap">
<link rel="next" href="rhythmbox-rb-util.html" title="rb-util">
<meta name="generator" content="GTK-Doc V1.13 (XML mode)">
<link rel="stylesheet" href="style.css" type="text/css">
<link rel="chapter" href="ch01.html" title="Backends">
<link rel="chapter" href="ch02.html" title="Lib">
<link rel="chapter" href="ch03.html" title="Metadata">
<link rel="chapter" href="ch04.html" title="RhythmDB">
<link rel="chapter" href="ch05.html" title="Shell">
<link rel="chapter" href="ch06.html" title="Sources">
<link rel="chapter" href="ch07.html" title="Widgets">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="2">
<tr valign="middle">
<td><a accesskey="p" href="RBStringValueMap.html"><img src="left.png" width="24" height="24" border="0" alt="Prev"></a></td>
<td><a accesskey="u" href="ch02.html"><img src="up.png" width="24" height="24" border="0" alt="Up"></a></td>
<td><a accesskey="h" href="index.html"><img src="home.png" width="24" height="24" border="0" alt="Home"></a></td>
<th width="100%" align="center">Rhythmbox Development Reference Manual</th>
<td><a accesskey="n" href="rhythmbox-rb-util.html"><img src="right.png" width="24" height="24" border="0" alt="Next"></a></td>
</tr>
<tr><td colspan="5" class="shortcuts">
<a href="#rhythmbox-rb-tree-dnd.synopsis" class="shortcut">Top</a>
                   | 
                  <a href="#rhythmbox-rb-tree-dnd.description" class="shortcut">Description</a>
                   | 
                  <a href="#rhythmbox-rb-tree-dnd.object-hierarchy" class="shortcut">Object Hierarchy</a>
                   | 
                  <a href="#rhythmbox-rb-tree-dnd.implementations" class="shortcut">Known Implementations</a>
</td></tr>
</table>
<div class="refentry" title="rb-tree-dnd">
<a name="rhythmbox-rb-tree-dnd"></a><div class="titlepage"></div>
<div class="refnamediv"><table width="100%"><tr>
<td valign="top">
<h2><span class="refentrytitle"><a name="rhythmbox-rb-tree-dnd.top_of_page"></a>rb-tree-dnd</span></h2>
<p>rb-tree-dnd — multi-row drag and drop support for GtkTreeViews</p>
</td>
<td valign="top" align="right"></td>
</tr></table></div>
<div class="refsynopsisdiv" title="Synopsis">
<a name="rhythmbox-rb-tree-dnd.synopsis"></a><h2>Synopsis</h2>
<a name="RbTreeDragSource"></a><a name="RbTreeDragDest"></a><pre class="synopsis">                    <a class="link" href="rhythmbox-rb-tree-dnd.html#RbTreeDragSource-struct" title="RbTreeDragSource">RbTreeDragSource</a>;
                    <a class="link" href="rhythmbox-rb-tree-dnd.html#RbTreeDragSourceIface" title="RbTreeDragSourceIface">RbTreeDragSourceIface</a>;
                    <a class="link" href="rhythmbox-rb-tree-dnd.html#RbTreeDragDest-struct" title="RbTreeDragDest">RbTreeDragDest</a>;
                    <a class="link" href="rhythmbox-rb-tree-dnd.html#RbTreeDragDestIface" title="RbTreeDragDestIface">RbTreeDragDestIface</a>;
enum                <a class="link" href="rhythmbox-rb-tree-dnd.html#RbTreeDestFlag" title="enum RbTreeDestFlag">RbTreeDestFlag</a>;
<a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>            <a class="link" href="rhythmbox-rb-tree-dnd.html#rb-tree-drag-source-row-draggable" title="rb_tree_drag_source_row_draggable ()">rb_tree_drag_source_row_draggable</a>   (<a class="link" href="rhythmbox-rb-tree-dnd.html#RbTreeDragSource"><span class="returnvalue">RbTreeDragSource</span></a> *drag_source,
                                                         <a href="http://library.gnome.org/devel/glib/unstable/glib-Doubly-Linked-Lists.html#GList"><span class="returnvalue">GList</span></a> *path_list);
<a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>            <a class="link" href="rhythmbox-rb-tree-dnd.html#rb-tree-drag-source-drag-data-delete" title="rb_tree_drag_source_drag_data_delete ()">rb_tree_drag_source_drag_data_delete</a>
                                                        (<a class="link" href="rhythmbox-rb-tree-dnd.html#RbTreeDragSource"><span class="returnvalue">RbTreeDragSource</span></a> *drag_source,
                                                         <a href="http://library.gnome.org/devel/glib/unstable/glib-Doubly-Linked-Lists.html#GList"><span class="returnvalue">GList</span></a> *path_list);
<a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>            <a class="link" href="rhythmbox-rb-tree-dnd.html#rb-tree-drag-source-drag-data-get" title="rb_tree_drag_source_drag_data_get ()">rb_tree_drag_source_drag_data_get</a>   (<a class="link" href="rhythmbox-rb-tree-dnd.html#RbTreeDragSource"><span class="returnvalue">RbTreeDragSource</span></a> *drag_source,
                                                         <a href="http://library.gnome.org/devel/glib/unstable/glib-Doubly-Linked-Lists.html#GList"><span class="returnvalue">GList</span></a> *path_list,
                                                         <a href="http://library.gnome.org/devel/gtk/unstable/GtkWidget.html#GtkSelectionData"><span class="returnvalue">GtkSelectionData</span></a> *selection_data);
<a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>            <a class="link" href="rhythmbox-rb-tree-dnd.html#rb-tree-drag-dest-drag-data-received" title="rb_tree_drag_dest_drag_data_received ()">rb_tree_drag_dest_drag_data_received</a>
                                                        (<a class="link" href="rhythmbox-rb-tree-dnd.html#RbTreeDragDest"><span class="returnvalue">RbTreeDragDest</span></a> *drag_dest,
                                                         <a href="http://library.gnome.org/devel/gtk/unstable/GtkTreeModel.html#GtkTreePath"><span class="returnvalue">GtkTreePath</span></a> *dest,
                                                         <a href="http://library.gnome.org/devel/gtk/unstable/GtkTreeView.html#GtkTreeViewDropPosition"><span class="returnvalue">GtkTreeViewDropPosition</span></a> pos,
                                                         <a href="http://library.gnome.org/devel/gtk/unstable/GtkWidget.html#GtkSelectionData"><span class="returnvalue">GtkSelectionData</span></a> *selection_data);
<a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>            <a class="link" href="rhythmbox-rb-tree-dnd.html#rb-tree-drag-dest-row-drop-possible" title="rb_tree_drag_dest_row_drop_possible ()">rb_tree_drag_dest_row_drop_possible</a> (<a class="link" href="rhythmbox-rb-tree-dnd.html#RbTreeDragDest"><span class="returnvalue">RbTreeDragDest</span></a> *drag_dest,
                                                         <a href="http://library.gnome.org/devel/gtk/unstable/GtkTreeModel.html#GtkTreePath"><span class="returnvalue">GtkTreePath</span></a> *dest_path,
                                                         <a href="http://library.gnome.org/devel/gtk/unstable/GtkTreeView.html#GtkTreeViewDropPosition"><span class="returnvalue">GtkTreeViewDropPosition</span></a> pos,
                                                         <a href="http://library.gnome.org/devel/gtk/unstable/GtkWidget.html#GtkSelectionData"><span class="returnvalue">GtkSelectionData</span></a> *selection_data);
<a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>            <a class="link" href="rhythmbox-rb-tree-dnd.html#rb-tree-drag-dest-row-drop-position" title="rb_tree_drag_dest_row_drop_position ()">rb_tree_drag_dest_row_drop_position</a> (<a class="link" href="rhythmbox-rb-tree-dnd.html#RbTreeDragDest"><span class="returnvalue">RbTreeDragDest</span></a> *drag_dest,
                                                         <a href="http://library.gnome.org/devel/gtk/unstable/GtkTreeModel.html#GtkTreePath"><span class="returnvalue">GtkTreePath</span></a> *dest_path,
                                                         <a href="http://library.gnome.org/devel/glib/unstable/glib-Doubly-Linked-Lists.html#GList"><span class="returnvalue">GList</span></a> *targets,
                                                         <a href="http://library.gnome.org/devel/gtk/unstable/GtkTreeView.html#GtkTreeViewDropPosition"><span class="returnvalue">GtkTreeViewDropPosition</span></a> *pos);
<span class="returnvalue">void</span>                <a class="link" href="rhythmbox-rb-tree-dnd.html#rb-tree-dnd-add-drag-dest-support" title="rb_tree_dnd_add_drag_dest_support ()">rb_tree_dnd_add_drag_dest_support</a>   (<a href="http://library.gnome.org/devel/gtk/unstable/GtkTreeView.html"><span class="returnvalue">GtkTreeView</span></a> *tree_view,
                                                         <a class="link" href="rhythmbox-rb-tree-dnd.html#RbTreeDestFlag" title="enum RbTreeDestFlag"><span class="returnvalue">RbTreeDestFlag</span></a> flags,
                                                         const <a href="http://library.gnome.org/devel/gtk/unstable/gtk-Selections.html#GtkTargetEntry"><span class="returnvalue">GtkTargetEntry</span></a> *targets,
                                                         <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gint"><span class="returnvalue">gint</span></a> n_targets,
                                                         <a href="http://library.gnome.org/devel/gdk/unstable/gdk-Drag-and-Drop.html#GdkDragAction"><span class="returnvalue">GdkDragAction</span></a> actions);
<span class="returnvalue">void</span>                <a class="link" href="rhythmbox-rb-tree-dnd.html#rb-tree-dnd-add-drag-source-support" title="rb_tree_dnd_add_drag_source_support ()">rb_tree_dnd_add_drag_source_support</a> (<a href="http://library.gnome.org/devel/gtk/unstable/GtkTreeView.html"><span class="returnvalue">GtkTreeView</span></a> *tree_view,
                                                         <a href="http://library.gnome.org/devel/gdk/unstable/gdk-Windows.html#GdkModifierType"><span class="returnvalue">GdkModifierType</span></a> start_button_mask,
                                                         const <a href="http://library.gnome.org/devel/gtk/unstable/gtk-Selections.html#GtkTargetEntry"><span class="returnvalue">GtkTargetEntry</span></a> *targets,
                                                         <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gint"><span class="returnvalue">gint</span></a> n_targets,
                                                         <a href="http://library.gnome.org/devel/gdk/unstable/gdk-Drag-and-Drop.html#GdkDragAction"><span class="returnvalue">GdkDragAction</span></a> actions);
</pre>
</div>
<div class="refsect1" title="Object Hierarchy">
<a name="rhythmbox-rb-tree-dnd.object-hierarchy"></a><h2>Object Hierarchy</h2>
<pre class="synopsis">
  GInterface
   +----RbTreeDragSource
</pre>
<pre class="synopsis">
  GInterface
   +----RbTreeDragDest
</pre>
</div>
<div class="refsect1" title="Known Implementations">
<a name="rhythmbox-rb-tree-dnd.implementations"></a><h2>Known Implementations</h2>
<p>
RbTreeDragSource is implemented by
 <a class="link" href="RhythmDBPropertyModel.html" title="RhythmDBPropertyModel">RhythmDBPropertyModel</a>,  <a class="link" href="RhythmDBQueryModel.html" title="RhythmDBQueryModel">RhythmDBQueryModel</a> and  <a class="link" href="RBSourceListModel.html" title="RBSourceListModel">RBSourceListModel</a>.</p>
<p>
RbTreeDragDest is implemented by
 <a class="link" href="RhythmDBQueryModel.html" title="RhythmDBQueryModel">RhythmDBQueryModel</a> and  <a class="link" href="RBSourceListModel.html" title="RBSourceListModel">RBSourceListModel</a>.</p>
</div>
<div class="refsect1" title="Description">
<a name="rhythmbox-rb-tree-dnd.description"></a><h2>Description</h2>
<p>
Provides support for drag and drop operations to and from GtkTreeView
widgets that can include multiple rows.  The model backing the tree view
widgets must implement the <a class="link" href="rhythmbox-rb-tree-dnd.html#RbTreeDragSource"><span class="type">RbTreeDragSource</span></a> and <a class="link" href="rhythmbox-rb-tree-dnd.html#RbTreeDragDest"><span class="type">RbTreeDragDest</span></a> interfaces.</p>
</div>
<div class="refsect1" title="Details">
<a name="rhythmbox-rb-tree-dnd.details"></a><h2>Details</h2>
<div class="refsect2" title="RbTreeDragSource">
<a name="RbTreeDragSource-struct"></a><h3>RbTreeDragSource</h3>
<pre class="programlisting">typedef struct _RbTreeDragSource RbTreeDragSource;</pre>
<p>
</p>
</div>
<hr>
<div class="refsect2" title="RbTreeDragSourceIface">
<a name="RbTreeDragSourceIface"></a><h3>RbTreeDragSourceIface</h3>
<pre class="programlisting">typedef struct {
	GTypeInterface g_iface;

	/* VTable - not signals */
	gboolean     (* rb_row_draggable)        (RbTreeDragSource   *drag_source,
	                              GList              *path_list);

	gboolean     (* rb_drag_data_get)        (RbTreeDragSource   *drag_source,
                                         GList              *path_list,
                                         GtkSelectionData   *selection_data);

	gboolean     (* rb_drag_data_delete)     (RbTreeDragSource *drag_source,
                                         GList            *path_list);
} RbTreeDragSourceIface;
</pre>
<p>
</p>
</div>
<hr>
<div class="refsect2" title="RbTreeDragDest">
<a name="RbTreeDragDest-struct"></a><h3>RbTreeDragDest</h3>
<pre class="programlisting">typedef struct _RbTreeDragDest RbTreeDragDest;</pre>
<p>
</p>
</div>
<hr>
<div class="refsect2" title="RbTreeDragDestIface">
<a name="RbTreeDragDestIface"></a><h3>RbTreeDragDestIface</h3>
<pre class="programlisting">typedef struct {
	GTypeInterface g_iface;

	/* VTable - not signals */

	gboolean (* rb_drag_data_received) (RbTreeDragDest   *drag_dest,
					 GtkTreePath       *dest,
					 GtkTreeViewDropPosition pos,
					 GtkSelectionData  *selection_data);

	gboolean (* rb_row_drop_possible)  (RbTreeDragDest   *drag_dest,
					 GtkTreePath       *dest_path,
					 GtkTreeViewDropPosition pos,
					 GtkSelectionData  *selection_data);

	gboolean (* rb_row_drop_position) (RbTreeDragDest   *drag_dest,
					GtkTreePath       *dest_path,
					GList *targets,
					GtkTreeViewDropPosition *pos);

	/* optional */
	GdkAtom  (* rb_get_drag_target)    (RbTreeDragDest   *drag_dest,
					 GtkWidget        *widget,
					 GdkDragContext   *context,
					 GtkTreePath      *dest_path,
					 GtkTargetList    *target_list);
} RbTreeDragDestIface;
</pre>
<p>
</p>
</div>
<hr>
<div class="refsect2" title="enum RbTreeDestFlag">
<a name="RbTreeDestFlag"></a><h3>enum RbTreeDestFlag</h3>
<pre class="programlisting">typedef enum {
	RB_TREE_DEST_EMPTY_VIEW_DROP = 1 &lt;&lt; 0,
	RB_TREE_DEST_CAN_DROP_INTO = 1 &lt;&lt; 1,
	RB_TREE_DEST_CAN_DROP_BETWEEN = 1 &lt;&lt; 2,
	RB_TREE_DEST_SELECT_ON_DRAG_TIMEOUT = 1 &lt;&lt; 3
} RbTreeDestFlag;
</pre>
<p>
Flags controlling drag destination behaviour.</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><a name="RB-TREE-DEST-EMPTY-VIEW-DROP:CAPS"></a><span class="term"><code class="literal">RB_TREE_DEST_EMPTY_VIEW_DROP</code></span></p></td>
<td> If set, drops into empty spaces in the view are accepted
</td>
</tr>
<tr>
<td><p><a name="RB-TREE-DEST-CAN-DROP-INTO:CAPS"></a><span class="term"><code class="literal">RB_TREE_DEST_CAN_DROP_INTO</code></span></p></td>
<td> If set, drops into existing rows are accepted
</td>
</tr>
<tr>
<td><p><a name="RB-TREE-DEST-CAN-DROP-BETWEEN:CAPS"></a><span class="term"><code class="literal">RB_TREE_DEST_CAN_DROP_BETWEEN</code></span></p></td>
<td> If set, drops between existing rows are accepted
</td>
</tr>
<tr>
<td><p><a name="RB-TREE-DEST-SELECT-ON-DRAG-TIMEOUT:CAPS"></a><span class="term"><code class="literal">RB_TREE_DEST_SELECT_ON_DRAG_TIMEOUT</code></span></p></td>
<td> If set, update the drag selection using a timeout
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="rb_tree_drag_source_row_draggable ()">
<a name="rb-tree-drag-source-row-draggable"></a><h3>rb_tree_drag_source_row_draggable ()</h3>
<pre class="programlisting"><a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>            rb_tree_drag_source_row_draggable   (<a class="link" href="rhythmbox-rb-tree-dnd.html#RbTreeDragSource"><span class="returnvalue">RbTreeDragSource</span></a> *drag_source,
                                                         <a href="http://library.gnome.org/devel/glib/unstable/glib-Doubly-Linked-Lists.html#GList"><span class="returnvalue">GList</span></a> *path_list);</pre>
<p>
Asks the <a class="link" href="rhythmbox-rb-tree-dnd.html#RbTreeDragSource"><span class="type">RbTreeDragSource</span></a> whether a particular row can be used as
the source of a DND operation. If the source doesn't implement
this interface, the row is assumed draggable.</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>drag_source</code></em> :</span></p></td>
<td> a <a class="link" href="rhythmbox-rb-tree-dnd.html#RbTreeDragSource"><span class="type">RbTreeDragSource</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>path_list</code></em> :</span></p></td>
<td> row on which user is initiating a drag
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> <a href="http://library.gnome.org/devel/glib/unstable/glib-Standard-Macros.html#TRUE:CAPS"><code class="literal">TRUE</code></a> if the row can be dragged
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="rb_tree_drag_source_drag_data_delete ()">
<a name="rb-tree-drag-source-drag-data-delete"></a><h3>rb_tree_drag_source_drag_data_delete ()</h3>
<pre class="programlisting"><a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>            rb_tree_drag_source_drag_data_delete
                                                        (<a class="link" href="rhythmbox-rb-tree-dnd.html#RbTreeDragSource"><span class="returnvalue">RbTreeDragSource</span></a> *drag_source,
                                                         <a href="http://library.gnome.org/devel/glib/unstable/glib-Doubly-Linked-Lists.html#GList"><span class="returnvalue">GList</span></a> *path_list);</pre>
<p>
Asks the <a class="link" href="rhythmbox-rb-tree-dnd.html#RbTreeDragSource"><span class="type">RbTreeDragSource</span></a> to delete the row at <em class="parameter"><code>path</code></em>, because
it was moved somewhere else via drag-and-drop. Returns <a href="http://library.gnome.org/devel/glib/unstable/glib-Standard-Macros.html#FALSE:CAPS"><code class="literal">FALSE</code></a>
if the deletion fails because <em class="parameter"><code>path</code></em> no longer exists, or for
some model-specific reason. Should robustly handle a <em class="parameter"><code>path</code></em> no
longer found in the model!</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>drag_source</code></em> :</span></p></td>
<td> a <a class="link" href="rhythmbox-rb-tree-dnd.html#RbTreeDragSource"><span class="type">RbTreeDragSource</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>path_list</code></em> :</span></p></td>
<td> row that was being dragged
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> <a href="http://library.gnome.org/devel/glib/unstable/glib-Standard-Macros.html#TRUE:CAPS"><code class="literal">TRUE</code></a> if the row was successfully deleted
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="rb_tree_drag_source_drag_data_get ()">
<a name="rb-tree-drag-source-drag-data-get"></a><h3>rb_tree_drag_source_drag_data_get ()</h3>
<pre class="programlisting"><a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>            rb_tree_drag_source_drag_data_get   (<a class="link" href="rhythmbox-rb-tree-dnd.html#RbTreeDragSource"><span class="returnvalue">RbTreeDragSource</span></a> *drag_source,
                                                         <a href="http://library.gnome.org/devel/glib/unstable/glib-Doubly-Linked-Lists.html#GList"><span class="returnvalue">GList</span></a> *path_list,
                                                         <a href="http://library.gnome.org/devel/gtk/unstable/GtkWidget.html#GtkSelectionData"><span class="returnvalue">GtkSelectionData</span></a> *selection_data);</pre>
<p>
Asks the <a class="link" href="rhythmbox-rb-tree-dnd.html#RbTreeDragSource"><span class="type">RbTreeDragSource</span></a> to fill in <em class="parameter"><code>selection_data</code></em> with a
representation of the row at <em class="parameter"><code>path</code></em>. <em class="parameter"><code>selection_data-&gt;target</code></em> gives
the required type of the data.  Should robustly handle a <em class="parameter"><code>path</code></em> no
longer found in the model!</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>drag_source</code></em> :</span></p></td>
<td> a <a class="link" href="rhythmbox-rb-tree-dnd.html#RbTreeDragSource"><span class="type">RbTreeDragSource</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>path_list</code></em> :</span></p></td>
<td> row that was dragged
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>selection_data</code></em> :</span></p></td>
<td> a <a href="http://library.gnome.org/devel/gtk/unstable/GtkWidget.html#GtkSelectionData"><span class="type">GtkSelectionData</span></a> to fill with data from the dragged row
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> <a href="http://library.gnome.org/devel/glib/unstable/glib-Standard-Macros.html#TRUE:CAPS"><code class="literal">TRUE</code></a> if data of the required type was provided
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="rb_tree_drag_dest_drag_data_received ()">
<a name="rb-tree-drag-dest-drag-data-received"></a><h3>rb_tree_drag_dest_drag_data_received ()</h3>
<pre class="programlisting"><a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>            rb_tree_drag_dest_drag_data_received
                                                        (<a class="link" href="rhythmbox-rb-tree-dnd.html#RbTreeDragDest"><span class="returnvalue">RbTreeDragDest</span></a> *drag_dest,
                                                         <a href="http://library.gnome.org/devel/gtk/unstable/GtkTreeModel.html#GtkTreePath"><span class="returnvalue">GtkTreePath</span></a> *dest,
                                                         <a href="http://library.gnome.org/devel/gtk/unstable/GtkTreeView.html#GtkTreeViewDropPosition"><span class="returnvalue">GtkTreeViewDropPosition</span></a> pos,
                                                         <a href="http://library.gnome.org/devel/gtk/unstable/GtkWidget.html#GtkSelectionData"><span class="returnvalue">GtkSelectionData</span></a> *selection_data);</pre>
<p>
Asks a <a class="link" href="rhythmbox-rb-tree-dnd.html#RbTreeDragDest"><span class="type">RbTreeDragDest</span></a> to accept some drag and drop data.</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>drag_dest</code></em> :</span></p></td>
<td> a <a class="link" href="rhythmbox-rb-tree-dnd.html#RbTreeDragDest"><span class="type">RbTreeDragDest</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>dest</code></em> :</span></p></td>
<td> the <a href="http://library.gnome.org/devel/gtk/unstable/GtkTreeModel.html#GtkTreePath"><span class="type">GtkTreePath</span></a> on which the data was dropped
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>pos</code></em> :</span></p></td>
<td> the drop position relative to the row identified by <em class="parameter"><code>dest</code></em>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>selection_data</code></em> :</span></p></td>
<td> a <a href="http://library.gnome.org/devel/gtk/unstable/GtkWidget.html#GtkSelectionData"><span class="type">GtkSelectionData</span></a> containing the drag data
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> <a href="http://library.gnome.org/devel/glib/unstable/glib-Standard-Macros.html#TRUE:CAPS"><code class="literal">TRUE</code></a> if the data was accepted, <a href="http://library.gnome.org/devel/glib/unstable/glib-Standard-Macros.html#FALSE:CAPS"><code class="literal">FALSE</code></a> otherwise
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="rb_tree_drag_dest_row_drop_possible ()">
<a name="rb-tree-drag-dest-row-drop-possible"></a><h3>rb_tree_drag_dest_row_drop_possible ()</h3>
<pre class="programlisting"><a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>            rb_tree_drag_dest_row_drop_possible (<a class="link" href="rhythmbox-rb-tree-dnd.html#RbTreeDragDest"><span class="returnvalue">RbTreeDragDest</span></a> *drag_dest,
                                                         <a href="http://library.gnome.org/devel/gtk/unstable/GtkTreeModel.html#GtkTreePath"><span class="returnvalue">GtkTreePath</span></a> *dest_path,
                                                         <a href="http://library.gnome.org/devel/gtk/unstable/GtkTreeView.html#GtkTreeViewDropPosition"><span class="returnvalue">GtkTreeViewDropPosition</span></a> pos,
                                                         <a href="http://library.gnome.org/devel/gtk/unstable/GtkWidget.html#GtkSelectionData"><span class="returnvalue">GtkSelectionData</span></a> *selection_data);</pre>
<p>
Asks the <a class="link" href="rhythmbox-rb-tree-dnd.html#RbTreeDragDest"><span class="type">RbTreeDragDest</span></a> whether data can be dropped on a particular
row.  This should probably check based on the format and the row.</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>drag_dest</code></em> :</span></p></td>
<td> a <a class="link" href="rhythmbox-rb-tree-dnd.html#RbTreeDragDest"><span class="type">RbTreeDragDest</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>dest_path</code></em> :</span></p></td>
<td> the <a href="http://library.gnome.org/devel/gtk/unstable/GtkTreeModel.html#GtkTreePath"><span class="type">GtkTreePath</span></a> on which the data may be dropped
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>pos</code></em> :</span></p></td>
<td> the drop position relative to the row identified by <em class="parameter"><code>dest</code></em>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>selection_data</code></em> :</span></p></td>
<td> a <a href="http://library.gnome.org/devel/gtk/unstable/GtkWidget.html#GtkSelectionData"><span class="type">GtkSelectionData</span></a> containing the drag data
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> <a href="http://library.gnome.org/devel/glib/unstable/glib-Standard-Macros.html#TRUE:CAPS"><code class="literal">TRUE</code></a> if the data can be dropped there
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="rb_tree_drag_dest_row_drop_position ()">
<a name="rb-tree-drag-dest-row-drop-position"></a><h3>rb_tree_drag_dest_row_drop_position ()</h3>
<pre class="programlisting"><a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>            rb_tree_drag_dest_row_drop_position (<a class="link" href="rhythmbox-rb-tree-dnd.html#RbTreeDragDest"><span class="returnvalue">RbTreeDragDest</span></a> *drag_dest,
                                                         <a href="http://library.gnome.org/devel/gtk/unstable/GtkTreeModel.html#GtkTreePath"><span class="returnvalue">GtkTreePath</span></a> *dest_path,
                                                         <a href="http://library.gnome.org/devel/glib/unstable/glib-Doubly-Linked-Lists.html#GList"><span class="returnvalue">GList</span></a> *targets,
                                                         <a href="http://library.gnome.org/devel/gtk/unstable/GtkTreeView.html#GtkTreeViewDropPosition"><span class="returnvalue">GtkTreeViewDropPosition</span></a> *pos);</pre>
<p>
Asks the <a class="link" href="rhythmbox-rb-tree-dnd.html#RbTreeDragDest"><span class="type">RbTreeDragDest</span></a> which drop position to use relative to the specified row.
The drag destination should decide which drop position to use based on the 
target row and the list of drag targets.</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>drag_dest</code></em> :</span></p></td>
<td> a <a class="link" href="rhythmbox-rb-tree-dnd.html#RbTreeDragDest"><span class="type">RbTreeDragDest</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>dest_path</code></em> :</span></p></td>
<td> a <a href="http://library.gnome.org/devel/gtk/unstable/GtkTreeModel.html#GtkTreePath"><span class="type">GtkTreePath</span></a> describing a possible drop row
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>targets</code></em> :</span></p></td>
<td> a <a href="http://library.gnome.org/devel/glib/unstable/glib-Doubly-Linked-Lists.html#GList"><span class="type">GList</span></a> containing possible drop target types
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>pos</code></em> :</span></p></td>
<td> returns the <a href="http://library.gnome.org/devel/gtk/unstable/GtkTreeView.html#GtkTreeViewDropPosition"><span class="type">GtkTreeViewDropPosition</span></a> to use relative to the row
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> <a href="http://library.gnome.org/devel/glib/unstable/glib-Standard-Macros.html#TRUE:CAPS"><code class="literal">TRUE</code></a> if a drop position has been set, <a href="http://library.gnome.org/devel/glib/unstable/glib-Standard-Macros.html#FALSE:CAPS"><code class="literal">FALSE</code></a> if a drop should not be
  allowed in the specified row
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="rb_tree_dnd_add_drag_dest_support ()">
<a name="rb-tree-dnd-add-drag-dest-support"></a><h3>rb_tree_dnd_add_drag_dest_support ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                rb_tree_dnd_add_drag_dest_support   (<a href="http://library.gnome.org/devel/gtk/unstable/GtkTreeView.html"><span class="returnvalue">GtkTreeView</span></a> *tree_view,
                                                         <a class="link" href="rhythmbox-rb-tree-dnd.html#RbTreeDestFlag" title="enum RbTreeDestFlag"><span class="returnvalue">RbTreeDestFlag</span></a> flags,
                                                         const <a href="http://library.gnome.org/devel/gtk/unstable/gtk-Selections.html#GtkTargetEntry"><span class="returnvalue">GtkTargetEntry</span></a> *targets,
                                                         <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gint"><span class="returnvalue">gint</span></a> n_targets,
                                                         <a href="http://library.gnome.org/devel/gdk/unstable/gdk-Drag-and-Drop.html#GdkDragAction"><span class="returnvalue">GdkDragAction</span></a> actions);</pre>
<p>
Adds event handlers to perform multi-row drag and drop operations to the specified
<a href="http://library.gnome.org/devel/gtk/unstable/GtkTreeView.html"><span class="type">GtkTreeView</span></a>.  The model backing the tree view should implement the <a class="link" href="rhythmbox-rb-tree-dnd.html#RbTreeDragDest"><span class="type">RbTreeDragDest</span></a>
interface.  This should be called immediately after the tree view is created.</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>tree_view</code></em> :</span></p></td>
<td> a <a href="http://library.gnome.org/devel/gtk/unstable/GtkTreeView.html"><span class="type">GtkTreeView</span></a> that wants to be a drag destination
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>flags</code></em> :</span></p></td>
<td> <a href="rhythmbox-rb-tree-dnd.html#RbTreeDestFlag"><span class="type">RbTreeDestFlags</span></a> for this drag destination
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>targets</code></em> :</span></p></td>
<td> an array of <a href="http://library.gnome.org/devel/gtk/unstable/gtk-Selections.html#GtkTargetEntry"><span class="type">GtkTargetEntry</span></a> structures describing the allowed drag targets
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>n_targets</code></em> :</span></p></td>
<td> the number of elements in <em class="parameter"><code>targets</code></em>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>actions</code></em> :</span></p></td>
<td> the allowable drag actions for this destination
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="rb_tree_dnd_add_drag_source_support ()">
<a name="rb-tree-dnd-add-drag-source-support"></a><h3>rb_tree_dnd_add_drag_source_support ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                rb_tree_dnd_add_drag_source_support (<a href="http://library.gnome.org/devel/gtk/unstable/GtkTreeView.html"><span class="returnvalue">GtkTreeView</span></a> *tree_view,
                                                         <a href="http://library.gnome.org/devel/gdk/unstable/gdk-Windows.html#GdkModifierType"><span class="returnvalue">GdkModifierType</span></a> start_button_mask,
                                                         const <a href="http://library.gnome.org/devel/gtk/unstable/gtk-Selections.html#GtkTargetEntry"><span class="returnvalue">GtkTargetEntry</span></a> *targets,
                                                         <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gint"><span class="returnvalue">gint</span></a> n_targets,
                                                         <a href="http://library.gnome.org/devel/gdk/unstable/gdk-Drag-and-Drop.html#GdkDragAction"><span class="returnvalue">GdkDragAction</span></a> actions);</pre>
<p>
Adds event handlers to perform multi-row drag and drop operations from the
specified <a href="http://library.gnome.org/devel/gtk/unstable/GtkTreeView.html"><span class="type">GtkTreeView</span></a> widget.  The model backing the <a href="http://library.gnome.org/devel/gtk/unstable/GtkTreeView.html"><span class="type">GtkTreeView</span></a> must
implement the <a class="link" href="rhythmbox-rb-tree-dnd.html#RbTreeDragSource"><span class="type">RbTreeDragSource</span></a> interface.  This should be called immediately
after the tree view is created.</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>tree_view</code></em> :</span></p></td>
<td> a <a href="http://library.gnome.org/devel/gtk/unstable/GtkTreeView.html"><span class="type">GtkTreeView</span></a> that wants to be a drag source
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>start_button_mask</code></em> :</span></p></td>
<td> a mask describing modifier keys to handle when dragging
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>targets</code></em> :</span></p></td>
<td> an array of <a href="http://library.gnome.org/devel/gtk/unstable/gtk-Selections.html#GtkTargetEntry"><span class="type">GtkTargetEntry</span></a> structures describing drag data types
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>n_targets</code></em> :</span></p></td>
<td> the number of elements in <em class="parameter"><code>targets</code></em>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>actions</code></em> :</span></p></td>
<td> a mask describing drag actions that are allowed from this source
</td>
</tr>
</tbody>
</table></div>
</div>
</div>
</div>
<div class="footer">
<hr>
          Generated by GTK-Doc V1.13</div>
</body>
</html>