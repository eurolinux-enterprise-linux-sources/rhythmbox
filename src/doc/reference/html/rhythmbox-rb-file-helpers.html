<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>rb-file-helpers</title>
<meta name="generator" content="DocBook XSL Stylesheets V1.75.2">
<link rel="home" href="index.html" title="Rhythmbox Development Reference Manual">
<link rel="up" href="ch02.html" title="Lib">
<link rel="prev" href="rhythmbox-rb-debug.html" title="rb-debug">
<link rel="next" href="rhythmbox-rb-builder-helpers.html" title="rb-builder-helpers">
<meta name="generator" content="GTK-Doc V1.13 (XML mode)">
<link rel="stylesheet" href="style.css" type="text/css">
<link rel="chapter" href="ch01.html" title="Backends">
<link rel="chapter" href="ch02.html" title="Lib">
<link rel="chapter" href="ch03.html" title="Metadata">
<link rel="chapter" href="ch04.html" title="RhythmDB">
<link rel="chapter" href="ch05.html" title="Shell">
<link rel="chapter" href="ch06.html" title="Sources">
<link rel="chapter" href="ch07.html" title="Widgets">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="2">
<tr valign="middle">
<td><a accesskey="p" href="rhythmbox-rb-debug.html"><img src="left.png" width="24" height="24" border="0" alt="Prev"></a></td>
<td><a accesskey="u" href="ch02.html"><img src="up.png" width="24" height="24" border="0" alt="Up"></a></td>
<td><a accesskey="h" href="index.html"><img src="home.png" width="24" height="24" border="0" alt="Home"></a></td>
<th width="100%" align="center">Rhythmbox Development Reference Manual</th>
<td><a accesskey="n" href="rhythmbox-rb-builder-helpers.html"><img src="right.png" width="24" height="24" border="0" alt="Next"></a></td>
</tr>
<tr><td colspan="5" class="shortcuts">
<a href="#rhythmbox-rb-file-helpers.synopsis" class="shortcut">Top</a>
                   | 
                  <a href="#rhythmbox-rb-file-helpers.description" class="shortcut">Description</a>
</td></tr>
</table>
<div class="refentry" title="rb-file-helpers">
<a name="rhythmbox-rb-file-helpers"></a><div class="titlepage"></div>
<div class="refnamediv"><table width="100%"><tr>
<td valign="top">
<h2><span class="refentrytitle"><a name="rhythmbox-rb-file-helpers.top_of_page"></a>rb-file-helpers</span></h2>
<p>rb-file-helpers — An assortment of file and URI helper functions</p>
</td>
<td valign="top" align="right"></td>
</tr></table></div>
<div class="refsynopsisdiv" title="Synopsis">
<a name="rhythmbox-rb-file-helpers.synopsis"></a><h2>Synopsis</h2>
<pre class="synopsis">const <span class="returnvalue">char</span> *        <a class="link" href="rhythmbox-rb-file-helpers.html#rb-file" title="rb_file ()">rb_file</a>                             (const <span class="returnvalue">char</span> *filename);
const <span class="returnvalue">char</span> *        <a class="link" href="rhythmbox-rb-file-helpers.html#rb-user-data-dir" title="rb_user_data_dir ()">rb_user_data_dir</a>                    (void);
const <span class="returnvalue">char</span> *        <a class="link" href="rhythmbox-rb-file-helpers.html#rb-user-cache-dir" title="rb_user_cache_dir ()">rb_user_cache_dir</a>                   (void);
const <span class="returnvalue">char</span> *        <a class="link" href="rhythmbox-rb-file-helpers.html#rb-music-dir" title="rb_music_dir ()">rb_music_dir</a>                        (void);
<span class="returnvalue">char</span> *              <a class="link" href="rhythmbox-rb-file-helpers.html#rb-find-user-data-file" title="rb_find_user_data_file ()">rb_find_user_data_file</a>              (const <span class="returnvalue">char</span> *name,
                                                         <a href="http://library.gnome.org/devel/glib/unstable/glib-Error-Reporting.html#GError"><span class="returnvalue">GError</span></a> **error);
<span class="returnvalue">char</span> *              <a class="link" href="rhythmbox-rb-file-helpers.html#rb-find-user-cache-file" title="rb_find_user_cache_file ()">rb_find_user_cache_file</a>             (const <span class="returnvalue">char</span> *name,
                                                         <a href="http://library.gnome.org/devel/glib/unstable/glib-Error-Reporting.html#GError"><span class="returnvalue">GError</span></a> **error);
<span class="returnvalue">void</span>                <a class="link" href="rhythmbox-rb-file-helpers.html#rb-file-helpers-init" title="rb_file_helpers_init ()">rb_file_helpers_init</a>                (<a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a> uninstalled);
<span class="returnvalue">void</span>                <a class="link" href="rhythmbox-rb-file-helpers.html#rb-file-helpers-shutdown" title="rb_file_helpers_shutdown ()">rb_file_helpers_shutdown</a>            (void);
<span class="returnvalue">char</span> *              <a class="link" href="rhythmbox-rb-file-helpers.html#rb-uri-resolve-symlink" title="rb_uri_resolve_symlink ()">rb_uri_resolve_symlink</a>              (const <span class="returnvalue">char</span> *uri,
                                                         <a href="http://library.gnome.org/devel/glib/unstable/glib-Error-Reporting.html#GError"><span class="returnvalue">GError</span></a> **error);
<a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>            <a class="link" href="rhythmbox-rb-file-helpers.html#rb-uri-is-directory" title="rb_uri_is_directory ()">rb_uri_is_directory</a>                 (const <span class="returnvalue">char</span> *uri);
<a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>            <a class="link" href="rhythmbox-rb-file-helpers.html#rb-uri-exists" title="rb_uri_exists ()">rb_uri_exists</a>                       (const <span class="returnvalue">char</span> *uri);
<a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>            <a class="link" href="rhythmbox-rb-file-helpers.html#rb-uri-is-readable" title="rb_uri_is_readable ()">rb_uri_is_readable</a>                  (const <span class="returnvalue">char</span> *uri);
<a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>            <a class="link" href="rhythmbox-rb-file-helpers.html#rb-uri-is-writable" title="rb_uri_is_writable ()">rb_uri_is_writable</a>                  (const <span class="returnvalue">char</span> *uri);
<a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>            <a class="link" href="rhythmbox-rb-file-helpers.html#rb-uri-is-local" title="rb_uri_is_local ()">rb_uri_is_local</a>                     (const <span class="returnvalue">char</span> *uri);
<a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>            <a class="link" href="rhythmbox-rb-file-helpers.html#rb-uri-is-hidden" title="rb_uri_is_hidden ()">rb_uri_is_hidden</a>                    (const <span class="returnvalue">char</span> *uri);
<a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>            <a class="link" href="rhythmbox-rb-file-helpers.html#rb-uri-could-be-podcast" title="rb_uri_could_be_podcast ()">rb_uri_could_be_podcast</a>             (const <span class="returnvalue">char</span> *uri,
                                                         <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a> *is_opml);
<span class="returnvalue">char</span> *              <a class="link" href="rhythmbox-rb-file-helpers.html#rb-uri-make-hidden" title="rb_uri_make_hidden ()">rb_uri_make_hidden</a>                  (const <span class="returnvalue">char</span> *uri);
<span class="returnvalue">void</span>                <a class="link" href="rhythmbox-rb-file-helpers.html#rb-uri-handle-recursively" title="rb_uri_handle_recursively ()">rb_uri_handle_recursively</a>           (const <span class="returnvalue">char</span> *uri,
                                                         <a href="http://library.gnome.org/devel/gio/unstable/GCancellable.html"><span class="returnvalue">GCancellable</span></a> *cancel,
                                                         <a class="link" href="rhythmbox-rb-file-helpers.html#RBUriRecurseFunc" title="RBUriRecurseFunc ()"><span class="returnvalue">RBUriRecurseFunc</span></a> func,
                                                         <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gpointer"><span class="returnvalue">gpointer</span></a> user_data);
<span class="returnvalue">void</span>                <a class="link" href="rhythmbox-rb-file-helpers.html#rb-uri-handle-recursively-async" title="rb_uri_handle_recursively_async ()">rb_uri_handle_recursively_async</a>     (const <span class="returnvalue">char</span> *uri,
                                                         <a href="http://library.gnome.org/devel/gio/unstable/GCancellable.html"><span class="returnvalue">GCancellable</span></a> *cancel,
                                                         <a class="link" href="rhythmbox-rb-file-helpers.html#RBUriRecurseFunc" title="RBUriRecurseFunc ()"><span class="returnvalue">RBUriRecurseFunc</span></a> func,
                                                         <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gpointer"><span class="returnvalue">gpointer</span></a> user_data,
                                                         <a href="http://library.gnome.org/devel/glib/unstable/glib-Datasets.html#GDestroyNotify"><span class="returnvalue">GDestroyNotify</span></a> data_destroy);
<a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>            <a class="link" href="rhythmbox-rb-file-helpers.html#rb-uri-mkstemp" title="rb_uri_mkstemp ()">rb_uri_mkstemp</a>                      (const <span class="returnvalue">char</span> *prefix,
                                                         <span class="returnvalue">char</span> **uri_ret,
                                                         <a href="http://library.gnome.org/devel/gio/unstable/GOutputStream.html"><span class="returnvalue">GOutputStream</span></a> **stream,
                                                         <a href="http://library.gnome.org/devel/glib/unstable/glib-Error-Reporting.html#GError"><span class="returnvalue">GError</span></a> **error);
<span class="returnvalue">char</span> *              <a class="link" href="rhythmbox-rb-file-helpers.html#rb-canonicalise-uri" title="rb_canonicalise_uri ()">rb_canonicalise_uri</a>                 (const <span class="returnvalue">char</span> *uri);
<span class="returnvalue">char</span>*               <a class="link" href="rhythmbox-rb-file-helpers.html#rb-uri-append-path" title="rb_uri_append_path ()">rb_uri_append_path</a>                  (const <span class="returnvalue">char</span> *uri,
                                                         const <span class="returnvalue">char</span> *path);
<span class="returnvalue">char</span>*               <a class="link" href="rhythmbox-rb-file-helpers.html#rb-uri-append-uri" title="rb_uri_append_uri ()">rb_uri_append_uri</a>                   (const <span class="returnvalue">char</span> *uri,
                                                         const <span class="returnvalue">char</span> *fragment);
<span class="returnvalue">char</span> *              <a class="link" href="rhythmbox-rb-file-helpers.html#rb-uri-get-dir-name" title="rb_uri_get_dir_name ()">rb_uri_get_dir_name</a>                 (const <span class="returnvalue">char</span> *uri);
<span class="returnvalue">char</span> *              <a class="link" href="rhythmbox-rb-file-helpers.html#rb-uri-get-short-path-name" title="rb_uri_get_short_path_name ()">rb_uri_get_short_path_name</a>          (const <span class="returnvalue">char</span> *uri);
<a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>            <a class="link" href="rhythmbox-rb-file-helpers.html#rb-check-dir-has-space" title="rb_check_dir_has_space ()">rb_check_dir_has_space</a>              (<a href="http://library.gnome.org/devel/gio/unstable/GFile.html"><span class="returnvalue">GFile</span></a> *dir,
                                                         <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#guint64"><span class="returnvalue">guint64</span></a> bytes_needed);
<a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>            <a class="link" href="rhythmbox-rb-file-helpers.html#rb-check-dir-has-space-uri" title="rb_check_dir_has_space_uri ()">rb_check_dir_has_space_uri</a>          (const <span class="returnvalue">char</span> *uri,
                                                         <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#guint64"><span class="returnvalue">guint64</span></a> bytes_needed);
<span class="returnvalue">char</span> *              <a class="link" href="rhythmbox-rb-file-helpers.html#rb-uri-get-mount-point" title="rb_uri_get_mount_point ()">rb_uri_get_mount_point</a>              (const <span class="returnvalue">char</span> *uri);
<a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>            <a class="link" href="rhythmbox-rb-file-helpers.html#rb-uri-create-parent-dirs" title="rb_uri_create_parent_dirs ()">rb_uri_create_parent_dirs</a>           (const <span class="returnvalue">char</span> *uri,
                                                         <a href="http://library.gnome.org/devel/glib/unstable/glib-Error-Reporting.html#GError"><span class="returnvalue">GError</span></a> **error);
<a href="http://library.gnome.org/devel/gio/unstable/GFile.html"><span class="returnvalue">GFile</span></a> *             <a class="link" href="rhythmbox-rb-file-helpers.html#rb-file-find-extant-parent" title="rb_file_find_extant_parent ()">rb_file_find_extant_parent</a>          (<a href="http://library.gnome.org/devel/gio/unstable/GFile.html"><span class="returnvalue">GFile</span></a> *file);
<span class="returnvalue">char</span> *              <a class="link" href="rhythmbox-rb-file-helpers.html#rb-uri-get-filesystem-type" title="rb_uri_get_filesystem_type ()">rb_uri_get_filesystem_type</a>          (const <span class="returnvalue">char</span> *uri);
<span class="returnvalue">void</span>                <a class="link" href="rhythmbox-rb-file-helpers.html#rb-sanitize-path-for-msdos-filesystem" title="rb_sanitize_path_for_msdos_filesystem ()">rb_sanitize_path_for_msdos_filesystem</a>
                                                        (<span class="returnvalue">char</span> *path);
<span class="returnvalue">char</span> *              <a class="link" href="rhythmbox-rb-file-helpers.html#rb-sanitize-uri-for-filesystem" title="rb_sanitize_uri_for_filesystem ()">rb_sanitize_uri_for_filesystem</a>      (const <span class="returnvalue">char</span> *uri);
<a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>            (<a class="link" href="rhythmbox-rb-file-helpers.html#RBUriRecurseFunc" title="RBUriRecurseFunc ()">*RBUriRecurseFunc</a>)                 (<a href="http://library.gnome.org/devel/gio/unstable/GFile.html"><span class="returnvalue">GFile</span></a> *file,
                                                         <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a> dir,
                                                         <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gpointer"><span class="returnvalue">gpointer</span></a> data);
</pre>
</div>
<div class="refsect1" title="Description">
<a name="rhythmbox-rb-file-helpers.description"></a><h2>Description</h2>
<p>
This is a variety of functions for dealing with files and URIs, including
locating installed files, finding user cache and config directories,
and dealing with file naming restrictions for various filesystems.</p>
</div>
<div class="refsect1" title="Details">
<a name="rhythmbox-rb-file-helpers.details"></a><h2>Details</h2>
<div class="refsect2" title="rb_file ()">
<a name="rb-file"></a><h3>rb_file ()</h3>
<pre class="programlisting">const <span class="returnvalue">char</span> *        rb_file                             (const <span class="returnvalue">char</span> *filename);</pre>
<p>
Searches for an installed file, returning the full path name
if found, NULL otherwise.</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>filename</code></em> :</span></p></td>
<td> name of file to search for
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> Full file name, if found.  Must not be freed.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="rb_user_data_dir ()">
<a name="rb-user-data-dir"></a><h3>rb_user_data_dir ()</h3>
<pre class="programlisting">const <span class="returnvalue">char</span> *        rb_user_data_dir                    (void);</pre>
<p>
This will create the rhythmbox user data directory, using the XDG Base
Directory specification.  If none of the XDG environment variables are
set, this will be ~/.local/share/rhythmbox.</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> string holding the path to the rhythmbox user data directory, or
NULL if the directory does not exist and cannot be created.
</td>
</tr></tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="rb_user_cache_dir ()">
<a name="rb-user-cache-dir"></a><h3>rb_user_cache_dir ()</h3>
<pre class="programlisting">const <span class="returnvalue">char</span> *        rb_user_cache_dir                   (void);</pre>
<p>
This will create the rhythmbox user cache directory, using the XDG
Base Directory specification.  If none of the XDG environment
variables are set, this will be ~/.cache/rhythmbox.</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> string holding the path to the rhythmbox user cache directory, or
NULL if the directory does not exist and could not be created.
</td>
</tr></tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="rb_music_dir ()">
<a name="rb-music-dir"></a><h3>rb_music_dir ()</h3>
<pre class="programlisting">const <span class="returnvalue">char</span> *        rb_music_dir                        (void);</pre>
<p>
Returns the default directory for the user's music library.
This will usually be the 'Music' directory under the home directory.</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> user's music directory.  must not be freed.
</td>
</tr></tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="rb_find_user_data_file ()">
<a name="rb-find-user-data-file"></a><h3>rb_find_user_data_file ()</h3>
<pre class="programlisting"><span class="returnvalue">char</span> *              rb_find_user_data_file              (const <span class="returnvalue">char</span> *name,
                                                         <a href="http://library.gnome.org/devel/glib/unstable/glib-Error-Reporting.html#GError"><span class="returnvalue">GError</span></a> **error);</pre>
<p>
Determines the full path to use for user-specific files, such as rhythmdb.xml.
This first checks in the user data directory (see <em class="parameter"><code>rb_user_data_dir</code></em>).
If the file does not exist in the user data directory, it then checks the
old .gnome2 directory, moving the file to the user data directory if found there.
If an error occurs while moving the file, this will be reported through <em class="parameter"><code>error</code></em> 
and the .gnome2 path will be returned.</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>name</code></em> :</span></p></td>
<td> name of file to find
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>error</code></em> :</span></p></td>
<td> returns error information
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> allocated string containing the location of the file to use, even if
 an error occurred.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="rb_find_user_cache_file ()">
<a name="rb-find-user-cache-file"></a><h3>rb_find_user_cache_file ()</h3>
<pre class="programlisting"><span class="returnvalue">char</span> *              rb_find_user_cache_file             (const <span class="returnvalue">char</span> *name,
                                                         <a href="http://library.gnome.org/devel/glib/unstable/glib-Error-Reporting.html#GError"><span class="returnvalue">GError</span></a> **error);</pre>
<p>
Determines the full path to use for user-specific cached files.
This first checks in the user cache directory (see <em class="parameter"><code>rb_user_cache_dir</code></em>).
If the file does not exist in the user cache directory, it then checks the
old .gnome2 directory, moving the file to the user cache directory if found there.
If an error occurs while moving the file, this will be reported through <em class="parameter"><code>error</code></em> 
and the .gnome2 path will be returned.</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>name</code></em> :</span></p></td>
<td> name of file to find
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>error</code></em> :</span></p></td>
<td> returns error information
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> allocated string containing the location of the file to use, even if
 an error occurred.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="rb_file_helpers_init ()">
<a name="rb-file-helpers-init"></a><h3>rb_file_helpers_init ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                rb_file_helpers_init                (<a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a> uninstalled);</pre>
<p>
Sets up file search paths for <em class="parameter"><code>rb_file</code></em>.  Must be called on startup.</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><p><span class="term"><em class="parameter"><code>uninstalled</code></em> :</span></p></td>
<td> if <a href="http://library.gnome.org/devel/glib/unstable/glib-Standard-Macros.html#TRUE:CAPS"><code class="literal">TRUE</code></a>, search in source and build directories
as well as installed locations
</td>
</tr></tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="rb_file_helpers_shutdown ()">
<a name="rb-file-helpers-shutdown"></a><h3>rb_file_helpers_shutdown ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                rb_file_helpers_shutdown            (void);</pre>
<p>
Frees various data allocated by file helper functions.
Should be called on shutdown.</p>
</div>
<hr>
<div class="refsect2" title="rb_uri_resolve_symlink ()">
<a name="rb-uri-resolve-symlink"></a><h3>rb_uri_resolve_symlink ()</h3>
<pre class="programlisting"><span class="returnvalue">char</span> *              rb_uri_resolve_symlink              (const <span class="returnvalue">char</span> *uri,
                                                         <a href="http://library.gnome.org/devel/glib/unstable/glib-Error-Reporting.html#GError"><span class="returnvalue">GError</span></a> **error);</pre>
<p>
Attempts to resolve symlinks in <em class="parameter"><code>uri</code></em> and return a canonical URI for the file
it identifies.</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>uri</code></em> :</span></p></td>
<td> the URI to process
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>error</code></em> :</span></p></td>
<td> returns error information
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> resolved URI, or NULL on error
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="rb_uri_is_directory ()">
<a name="rb-uri-is-directory"></a><h3>rb_uri_is_directory ()</h3>
<pre class="programlisting"><a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>            rb_uri_is_directory                 (const <span class="returnvalue">char</span> *uri);</pre>
<p>
Checks if <em class="parameter"><code>uri</code></em> identifies a directory.</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>uri</code></em> :</span></p></td>
<td> the URI to check
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> <a href="http://library.gnome.org/devel/glib/unstable/glib-Standard-Macros.html#TRUE:CAPS"><code class="literal">TRUE</code></a> if <em class="parameter"><code>uri</code></em> is a directory
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="rb_uri_exists ()">
<a name="rb-uri-exists"></a><h3>rb_uri_exists ()</h3>
<pre class="programlisting"><a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>            rb_uri_exists                       (const <span class="returnvalue">char</span> *uri);</pre>
<p>
Checks if a URI identifies a resource that exists</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>uri</code></em> :</span></p></td>
<td> a URI to check
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> <a href="http://library.gnome.org/devel/glib/unstable/glib-Standard-Macros.html#TRUE:CAPS"><code class="literal">TRUE</code></a> if <em class="parameter"><code>uri</code></em> exists
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="rb_uri_is_readable ()">
<a name="rb-uri-is-readable"></a><h3>rb_uri_is_readable ()</h3>
<pre class="programlisting"><a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>            rb_uri_is_readable                  (const <span class="returnvalue">char</span> *uri);</pre>
<p>
Checks if the user can read the resource identified by <em class="parameter"><code>uri</code></em></p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>uri</code></em> :</span></p></td>
<td> a URI to check
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> <a href="http://library.gnome.org/devel/glib/unstable/glib-Standard-Macros.html#TRUE:CAPS"><code class="literal">TRUE</code></a> if <em class="parameter"><code>uri</code></em> is readable
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="rb_uri_is_writable ()">
<a name="rb-uri-is-writable"></a><h3>rb_uri_is_writable ()</h3>
<pre class="programlisting"><a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>            rb_uri_is_writable                  (const <span class="returnvalue">char</span> *uri);</pre>
<p>
Checks if the user can write to the resource identified by <em class="parameter"><code>uri</code></em></p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>uri</code></em> :</span></p></td>
<td> a URI to check
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> <a href="http://library.gnome.org/devel/glib/unstable/glib-Standard-Macros.html#TRUE:CAPS"><code class="literal">TRUE</code></a> if <em class="parameter"><code>uri</code></em> is writable
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="rb_uri_is_local ()">
<a name="rb-uri-is-local"></a><h3>rb_uri_is_local ()</h3>
<pre class="programlisting"><a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>            rb_uri_is_local                     (const <span class="returnvalue">char</span> *uri);</pre>
<p>
Checks if <em class="parameter"><code>uri</code></em> identifies a local resource.  Currently this just
checks that it uses the 'file' URI scheme.</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>uri</code></em> :</span></p></td>
<td> a URI to check
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> <a href="http://library.gnome.org/devel/glib/unstable/glib-Standard-Macros.html#TRUE:CAPS"><code class="literal">TRUE</code></a> if <em class="parameter"><code>uri</code></em> is local
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="rb_uri_is_hidden ()">
<a name="rb-uri-is-hidden"></a><h3>rb_uri_is_hidden ()</h3>
<pre class="programlisting"><a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>            rb_uri_is_hidden                    (const <span class="returnvalue">char</span> *uri);</pre>
<p>
Checks if <em class="parameter"><code>uri</code></em> is hidden, according to the Unix filename convention.
If the filename component of <em class="parameter"><code>uri</code></em> begins with a dot, the file is considered
hidden.</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>uri</code></em> :</span></p></td>
<td> a URI to check
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> <a href="http://library.gnome.org/devel/glib/unstable/glib-Standard-Macros.html#TRUE:CAPS"><code class="literal">TRUE</code></a> if <em class="parameter"><code>uri</code></em> is hidden
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="rb_uri_could_be_podcast ()">
<a name="rb-uri-could-be-podcast"></a><h3>rb_uri_could_be_podcast ()</h3>
<pre class="programlisting"><a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>            rb_uri_could_be_podcast             (const <span class="returnvalue">char</span> *uri,
                                                         <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a> *is_opml);</pre>
<p>
Checks if <em class="parameter"><code>uri</code></em> identifies a resource that is probably a podcast
(RSS or Atom feed).  This does not perform any IO, it just guesses
based on the URI itself.</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>uri</code></em> :</span></p></td>
<td> a URI to check
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>is_opml</code></em> :</span></p></td>
<td> returns whether the URI identifies an OPML document
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> <a href="http://library.gnome.org/devel/glib/unstable/glib-Standard-Macros.html#TRUE:CAPS"><code class="literal">TRUE</code></a> if <em class="parameter"><code>uri</code></em> may be a podcast
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="rb_uri_make_hidden ()">
<a name="rb-uri-make-hidden"></a><h3>rb_uri_make_hidden ()</h3>
<pre class="programlisting"><span class="returnvalue">char</span> *              rb_uri_make_hidden                  (const <span class="returnvalue">char</span> *uri);</pre>
<p>
Constructs a URI that is similar to <em class="parameter"><code>uri</code></em> but which identifies
a hidden file.  This can be used for temporary files that should not
be visible to the user while they are in use.</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>uri</code></em> :</span></p></td>
<td> a URI to construct a hidden version of
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> hidden URI, must be freed by the caller.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="rb_uri_handle_recursively ()">
<a name="rb-uri-handle-recursively"></a><h3>rb_uri_handle_recursively ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                rb_uri_handle_recursively           (const <span class="returnvalue">char</span> *uri,
                                                         <a href="http://library.gnome.org/devel/gio/unstable/GCancellable.html"><span class="returnvalue">GCancellable</span></a> *cancel,
                                                         <a class="link" href="rhythmbox-rb-file-helpers.html#RBUriRecurseFunc" title="RBUriRecurseFunc ()"><span class="returnvalue">RBUriRecurseFunc</span></a> func,
                                                         <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gpointer"><span class="returnvalue">gpointer</span></a> user_data);</pre>
<p>
Calls <em class="parameter"><code>func</code></em> for each file found under the directory identified by <em class="parameter"><code>uri</code></em>.
If <em class="parameter"><code>uri</code></em> identifies a file, calls <em class="parameter"><code>func</code></em> for that instead.</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>uri</code></em> :</span></p></td>
<td> URI to visit
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>cancel</code></em> :</span></p></td>
<td> an optional <a href="http://library.gnome.org/devel/gio/unstable/GCancellable.html"><span class="type">GCancellable</span></a> to allow cancellation
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>func</code></em> :</span></p></td>
<td> Callback function
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em> :</span></p></td>
<td> Data for callback function
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="rb_uri_handle_recursively_async ()">
<a name="rb-uri-handle-recursively-async"></a><h3>rb_uri_handle_recursively_async ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                rb_uri_handle_recursively_async     (const <span class="returnvalue">char</span> *uri,
                                                         <a href="http://library.gnome.org/devel/gio/unstable/GCancellable.html"><span class="returnvalue">GCancellable</span></a> *cancel,
                                                         <a class="link" href="rhythmbox-rb-file-helpers.html#RBUriRecurseFunc" title="RBUriRecurseFunc ()"><span class="returnvalue">RBUriRecurseFunc</span></a> func,
                                                         <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gpointer"><span class="returnvalue">gpointer</span></a> user_data,
                                                         <a href="http://library.gnome.org/devel/glib/unstable/glib-Datasets.html#GDestroyNotify"><span class="returnvalue">GDestroyNotify</span></a> data_destroy);</pre>
<p>
Calls <em class="parameter"><code>func</code></em> for each file found under the directory identified
by <em class="parameter"><code>uri</code></em>, or if <em class="parameter"><code>uri</code></em> identifies a file, calls it once
with that.
</p>
<p>
Directory recursion happens on a separate thread, but the callbacks
are called on the main thread.
</p>
<p>
If non-NULL, <em class="parameter"><code>destroy_data</code></em> will be called once all files have been
processed, or when the operation is cancelled.</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>uri</code></em> :</span></p></td>
<td> the URI to visit
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>cancel</code></em> :</span></p></td>
<td> a <a href="http://library.gnome.org/devel/gio/unstable/GCancellable.html"><span class="type">GCancellable</span></a> to allow cancellation
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>func</code></em> :</span></p></td>
<td> callback function
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em> :</span></p></td>
<td> data to pass to callback
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>data_destroy</code></em> :</span></p></td>
<td> function to call to free <em class="parameter"><code>user_data</code></em>
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="rb_uri_mkstemp ()">
<a name="rb-uri-mkstemp"></a><h3>rb_uri_mkstemp ()</h3>
<pre class="programlisting"><a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>            rb_uri_mkstemp                      (const <span class="returnvalue">char</span> *prefix,
                                                         <span class="returnvalue">char</span> **uri_ret,
                                                         <a href="http://library.gnome.org/devel/gio/unstable/GOutputStream.html"><span class="returnvalue">GOutputStream</span></a> **stream,
                                                         <a href="http://library.gnome.org/devel/glib/unstable/glib-Error-Reporting.html#GError"><span class="returnvalue">GError</span></a> **error);</pre>
<p>
Creates a temporary file whose URI begins with <em class="parameter"><code>prefix</code></em>, returning
the file URI and an output stream for writing to it.</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>prefix</code></em> :</span></p></td>
<td> URI prefix
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>uri_ret</code></em> :</span></p></td>
<td> returns the temporary file URI
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>stream</code></em> :</span></p></td>
<td> returns a <em class="parameter"><code>GOutputStream</code></em> for the temporary file
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>error</code></em> :</span></p></td>
<td> returns error information
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> <a href="http://library.gnome.org/devel/glib/unstable/glib-Standard-Macros.html#TRUE:CAPS"><code class="literal">TRUE</code></a> if successful
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="rb_canonicalise_uri ()">
<a name="rb-canonicalise-uri"></a><h3>rb_canonicalise_uri ()</h3>
<pre class="programlisting"><span class="returnvalue">char</span> *              rb_canonicalise_uri                 (const <span class="returnvalue">char</span> *uri);</pre>
<p>
Converts <em class="parameter"><code>uri</code></em> to canonical URI form, ensuring it doesn't contain
any redundant directory fragments or unnecessarily escaped characters.
All URIs passed to <a class="link" href="RhythmDB.html" title="RhythmDB"><span class="type">RhythmDB</span></a> functions should be canonicalised.</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>uri</code></em> :</span></p></td>
<td> URI to canonicalise
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> canonical URI, must be freed by caller
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="rb_uri_append_path ()">
<a name="rb-uri-append-path"></a><h3>rb_uri_append_path ()</h3>
<pre class="programlisting"><span class="returnvalue">char</span>*               rb_uri_append_path                  (const <span class="returnvalue">char</span> *uri,
                                                         const <span class="returnvalue">char</span> *path);</pre>
<p>
Creates a new URI consisting of <em class="parameter"><code>path</code></em> appended to <em class="parameter"><code>uri</code></em>.</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>uri</code></em> :</span></p></td>
<td> the URI to append to
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>path</code></em> :</span></p></td>
<td> the path fragment to append
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> new URI, must be freed by caller
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="rb_uri_append_uri ()">
<a name="rb-uri-append-uri"></a><h3>rb_uri_append_uri ()</h3>
<pre class="programlisting"><span class="returnvalue">char</span>*               rb_uri_append_uri                   (const <span class="returnvalue">char</span> *uri,
                                                         const <span class="returnvalue">char</span> *fragment);</pre>
<p>
Creates a new URI consisting of <em class="parameter"><code>fragment</code></em> appended to <em class="parameter"><code>uri</code></em>.
Generally isn't a good idea.</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>uri</code></em> :</span></p></td>
<td> the URI to append to
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>fragment</code></em> :</span></p></td>
<td> the URI fragment to append
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> new URI, must be freed by caller
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="rb_uri_get_dir_name ()">
<a name="rb-uri-get-dir-name"></a><h3>rb_uri_get_dir_name ()</h3>
<pre class="programlisting"><span class="returnvalue">char</span> *              rb_uri_get_dir_name                 (const <span class="returnvalue">char</span> *uri);</pre>
<p>
Returns the directory component of <em class="parameter"><code>uri</code></em>, that is, everything up
to the start of the filename.</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>uri</code></em> :</span></p></td>
<td> a URI
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> new URI for parent of <em class="parameter"><code>uri</code></em>, must be freed by caller.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="rb_uri_get_short_path_name ()">
<a name="rb-uri-get-short-path-name"></a><h3>rb_uri_get_short_path_name ()</h3>
<pre class="programlisting"><span class="returnvalue">char</span> *              rb_uri_get_short_path_name          (const <span class="returnvalue">char</span> *uri);</pre>
<p>
Returns the filename component of <em class="parameter"><code>uri</code></em>, that is, everything after the
final slash and before the start of the query string or fragment.</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>uri</code></em> :</span></p></td>
<td> a URI
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> filename component of <em class="parameter"><code>uri</code></em>, must be freed by caller
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="rb_check_dir_has_space ()">
<a name="rb-check-dir-has-space"></a><h3>rb_check_dir_has_space ()</h3>
<pre class="programlisting"><a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>            rb_check_dir_has_space              (<a href="http://library.gnome.org/devel/gio/unstable/GFile.html"><span class="returnvalue">GFile</span></a> *dir,
                                                         <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#guint64"><span class="returnvalue">guint64</span></a> bytes_needed);</pre>
<p>
Checks that the filesystem holding <em class="parameter"><code>file</code></em> has at least <em class="parameter"><code>bytes_needed</code></em>
bytes available.</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>dir</code></em> :</span></p></td>
<td> a <a href="http://library.gnome.org/devel/gio/unstable/GFile.html"><span class="type">GFile</span></a> to check
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>bytes_needed</code></em> :</span></p></td>
<td> number of bytes to check for
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> <a href="http://library.gnome.org/devel/glib/unstable/glib-Standard-Macros.html#TRUE:CAPS"><code class="literal">TRUE</code></a> if enough space is available.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="rb_check_dir_has_space_uri ()">
<a name="rb-check-dir-has-space-uri"></a><h3>rb_check_dir_has_space_uri ()</h3>
<pre class="programlisting"><a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>            rb_check_dir_has_space_uri          (const <span class="returnvalue">char</span> *uri,
                                                         <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#guint64"><span class="returnvalue">guint64</span></a> bytes_needed);</pre>
<p>
Checks that the filesystem holding <em class="parameter"><code>uri</code></em> has at least <em class="parameter"><code>bytes_needed</code></em>
bytes available.</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>uri</code></em> :</span></p></td>
<td> a URI to check
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>bytes_needed</code></em> :</span></p></td>
<td> number of bytes to check for
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> <a href="http://library.gnome.org/devel/glib/unstable/glib-Standard-Macros.html#TRUE:CAPS"><code class="literal">TRUE</code></a> if enough space is available.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="rb_uri_get_mount_point ()">
<a name="rb-uri-get-mount-point"></a><h3>rb_uri_get_mount_point ()</h3>
<pre class="programlisting"><span class="returnvalue">char</span> *              rb_uri_get_mount_point              (const <span class="returnvalue">char</span> *uri);</pre>
<p>
Returns the mount point of the filesystem holding <em class="parameter"><code>uri</code></em>.
If <em class="parameter"><code>uri</code></em> is on a normal filesystem mount (such as /, /home,
/var, etc.) this will be NULL.</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>uri</code></em> :</span></p></td>
<td> a URI
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> filesystem mount point (must be freed by caller)
 or NULL.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="rb_uri_create_parent_dirs ()">
<a name="rb-uri-create-parent-dirs"></a><h3>rb_uri_create_parent_dirs ()</h3>
<pre class="programlisting"><a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>            rb_uri_create_parent_dirs           (const <span class="returnvalue">char</span> *uri,
                                                         <a href="http://library.gnome.org/devel/glib/unstable/glib-Error-Reporting.html#GError"><span class="returnvalue">GError</span></a> **error);</pre>
<p>
Ensures that all parent directories of <em class="parameter"><code>uri</code></em> exist so that
<em class="parameter"><code>uri</code></em> itself can be created directly.</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>uri</code></em> :</span></p></td>
<td> a URI for which to create parent directories
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>error</code></em> :</span></p></td>
<td> returns error information
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> <a href="http://library.gnome.org/devel/glib/unstable/glib-Standard-Macros.html#TRUE:CAPS"><code class="literal">TRUE</code></a> if successful
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="rb_file_find_extant_parent ()">
<a name="rb-file-find-extant-parent"></a><h3>rb_file_find_extant_parent ()</h3>
<pre class="programlisting"><a href="http://library.gnome.org/devel/gio/unstable/GFile.html"><span class="returnvalue">GFile</span></a> *             rb_file_find_extant_parent          (<a href="http://library.gnome.org/devel/gio/unstable/GFile.html"><span class="returnvalue">GFile</span></a> *file);</pre>
<p>
Walks up the filesystem hierarchy to find a <a href="http://library.gnome.org/devel/gio/unstable/GFile.html"><span class="type">GFile</span></a> representing
the nearest extant ancestor of the specified file, which may be
the file itself if it exists.</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>file</code></em> :</span></p></td>
<td> a <a href="http://library.gnome.org/devel/gio/unstable/GFile.html"><span class="type">GFile</span></a> to find an extant ancestor of
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> <a href="http://library.gnome.org/devel/gio/unstable/GFile.html"><span class="type">GFile</span></a> for the nearest extant ancestor
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="rb_uri_get_filesystem_type ()">
<a name="rb-uri-get-filesystem-type"></a><h3>rb_uri_get_filesystem_type ()</h3>
<pre class="programlisting"><span class="returnvalue">char</span> *              rb_uri_get_filesystem_type          (const <span class="returnvalue">char</span> *uri);</pre>
<p>
Returns a string describing the type of the filesystem containing <em class="parameter"><code>uri</code></em>.</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>uri</code></em> :</span></p></td>
<td> URI to get filesystem type for
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> filesystem type string, must be freed by caller.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="rb_sanitize_path_for_msdos_filesystem ()">
<a name="rb-sanitize-path-for-msdos-filesystem"></a><h3>rb_sanitize_path_for_msdos_filesystem ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                rb_sanitize_path_for_msdos_filesystem
                                                        (<span class="returnvalue">char</span> *path);</pre>
<p>
Modifies <em class="parameter"><code>path</code></em> such that it represents a legal path for MS DOS
filesystems.</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><p><span class="term"><em class="parameter"><code>path</code></em> :</span></p></td>
<td> a path to sanitize (modified in place)
</td>
</tr></tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="rb_sanitize_uri_for_filesystem ()">
<a name="rb-sanitize-uri-for-filesystem"></a><h3>rb_sanitize_uri_for_filesystem ()</h3>
<pre class="programlisting"><span class="returnvalue">char</span> *              rb_sanitize_uri_for_filesystem      (const <span class="returnvalue">char</span> *uri);</pre>
<p>
Removes characters from <em class="parameter"><code>uri</code></em> that are not allowed by the filesystem
on which it would be stored.  At present, this only supports MS DOS
filesystems.</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>uri</code></em> :</span></p></td>
<td> a URI to sanitize
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> sanitized copy of <em class="parameter"><code>uri</code></em>, must be freed by caller.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="RBUriRecurseFunc ()">
<a name="RBUriRecurseFunc"></a><h3>RBUriRecurseFunc ()</h3>
<pre class="programlisting"><a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>            (*RBUriRecurseFunc)                 (<a href="http://library.gnome.org/devel/gio/unstable/GFile.html"><span class="returnvalue">GFile</span></a> *file,
                                                         <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a> dir,
                                                         <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gpointer"><span class="returnvalue">gpointer</span></a> data);</pre>
<p>
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>file</code></em> :</span></p></td>
<td>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>dir</code></em> :</span></p></td>
<td>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>data</code></em> :</span></p></td>
<td>
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>
</td>
</tr>
</tbody>
</table></div>
</div>
</div>
</div>
<div class="footer">
<hr>
          Generated by GTK-Doc V1.13</div>
</body>
</html>